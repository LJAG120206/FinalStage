{"ast":null,"code":"var _jsxFileName = \"/var/www/foxt_partage/FOXT/front/foxt_front/src/Components/Chemin/CheminCreation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport FieldInput from \"../FieldInput/FieldInput\";\nimport TexteArea from \"../TextArea/TexteArea\";\nimport Select from \"../Select/Select\";\nimport Axios from \"axios\";\nimport \"./Formulaire.css\";\nimport Logo from \"../Images/logo.png\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CheminCreation = props => {\n  _s();\n\n  const [chemin, setChemin] = useState({\n    client: \"\",\n    titre: \"\",\n    status: \"actif\"\n  });\n  const [liste_clients, setListe_clients] = React.useState([]);\n  let clients;\n  React.useEffect(() => {\n    Axios.get(\"https://127.0.0.1:8000/api/clients\").then(response => response.data[\"hydra:member\"]).then(clients => {\n      let liste_cli = [];\n      clients.forEach(item => {\n        liste_cli.push([item.id, item.prenom + \" \" + item.nom]);\n      });\n      setListe_clients(liste_cli);\n      console.log(liste_cli);\n    });\n  }, []);\n\n  const handleChange = _ref => {\n    let {\n      currentTarget\n    } = _ref;\n    const value = currentTarget.value;\n    const name = currentTarget.name;\n    setChemin({ ...chemin,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    console.log(chemin);\n    chemin.client = \"https://127.0.0.1:8000/api/clients/\" + chemin.client;\n    console.log(chemin);\n\n    try {\n      const response = await Axios.post(\"https://127.0.0.1:8000/api/chemins\", chemin).then(response => {});\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row headerContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"logo_foxt\",\n          className: \"fieldInput col-lg-8\",\n          src: Logo,\n          alt: \"mon image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title fieldInput col-lg-8\",\n          children: \"NOUVEAU CHEMIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"formulaire\",\n        className: \"container-fluid form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              name: \"status\",\n              id: \"Status\",\n              className: \"select col-lg-4\",\n              label: \"Status\",\n              type: \"select\",\n              options: [[\"actif\", \"Actif\"], [\"inactif\", \"Inactif\"]],\n              value: chemin.status,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"client\",\n              className: \"select col-lg-4\",\n              name: \"client\",\n              label: \"Client\",\n              type: \"select\",\n              selected: \"\",\n              options: liste_clients,\n              value: \"Merci de s\\xE9lectionner un client\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              id: \"titre\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Titre\",\n              type: \"text\",\n              name: \"titre\",\n              value: \"\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn btn-secondary btn-lg\",\n          type: \"submit\",\n          value: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CheminCreation, \"3csykZScFC2/DbgWc+QO24ykSt4=\");\n\n_c = CheminCreation;\nexport default CheminCreation;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheminCreation\");","map":{"version":3,"sources":["/var/www/foxt_partage/FOXT/front/foxt_front/src/Components/Chemin/CheminCreation.js"],"names":["React","useState","useEffect","FieldInput","TexteArea","Select","Axios","Logo","useParams","CheminCreation","props","chemin","setChemin","client","titre","status","liste_clients","setListe_clients","clients","get","then","response","data","liste_cli","forEach","item","push","id","prenom","nom","console","log","handleChange","currentTarget","value","name","handleSubmit","event","preventDefault","post","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport FieldInput from \"../FieldInput/FieldInput\";\nimport TexteArea from \"../TextArea/TexteArea\";\nimport Select from \"../Select/Select\";\nimport Axios from \"axios\";\nimport \"./Formulaire.css\";\nimport Logo from \"../Images/logo.png\";\nimport { useParams } from \"react-router-dom\";\n\nconst CheminCreation = (props) => {\n  \n  const [chemin, setChemin] = useState({\n   \n    client: \"\",\n    titre: \"\",\n    status: \"actif\",\n    \n  });\n  const [liste_clients, setListe_clients] = React.useState([]);\n\n\n  let clients;\n\nReact.useEffect(() =>\n    {\n    Axios\n        .get(\"https://127.0.0.1:8000/api/clients\")\n        .then(response => response.data[\"hydra:member\"])\n        .then(clients => \n          { \n              let liste_cli=[];\n              clients.forEach((item) =>{\n                  liste_cli.push([item.id, item.prenom+\" \"+item.nom]);\n              })\n              setListe_clients(liste_cli);\n              console.log(liste_cli);\n          })\n\n\n    },[])\n  \n  const handleChange = ({ currentTarget }) => {\n    const value = currentTarget.value;\n    const name = currentTarget.name;\n\n    setChemin({ ...chemin, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    \n    console.log(chemin);\n    chemin.client = \"https://127.0.0.1:8000/api/clients/\"+chemin.client;\n    console.log(chemin);\n    try {\n      const response = await Axios.post(\n        \"https://127.0.0.1:8000/api/chemins\",chemin)\n        .then((response) => {\n                    \n        });\n    } catch (error) {\n        console.log(error.response);}\n    };\n      \n  return (\n    <>\n      <div>\n        <div className=\"row headerContainer\">\n          <img\n            id=\"logo_foxt\"\n            className=\"fieldInput col-lg-8\"\n            src={Logo}\n            alt=\"mon image\"\n          />\n          <div className=\"title fieldInput col-lg-8\">NOUVEAU CHEMIN</div>\n        </div>\n        <form\n          id=\"formulaire\"\n          className=\"container-fluid form\"\n          onSubmit={handleSubmit}\n        >\n          <div>\n            <div className=\"row\">\n            <Select\n                name=\"status\"\n                id=\"Status\"\n                className=\"select col-lg-4\"\n                label=\"Status\"\n                type=\"select\"\n                options={[\n                  [\"actif\", \"Actif\"],\n                  [\"inactif\", \"Inactif\"],\n                ]}\n                value={chemin.status}\n                onChange={handleChange}\n              />\n              <Select\n                id=\"client\"\n                className=\"select col-lg-4\"\n                name=\"client\"\n                label=\"Client\"\n                type=\"select\"\n                selected=\"\"\n                options={liste_clients}\n                value=\"Merci de sélectionner un client\"\n                onChange={handleChange}\n              />\n              <FieldInput\n                id=\"titre\"\n                className=\"fieldInput col-lg-4\"\n                label=\"Titre\"\n                type=\"text\"\n                name=\"titre\"\n                value={\"\"}\n                onChange={handleChange}\n              />\n              \n            </div>\n          </div>\n          <input\n            className=\"btn btn-secondary btn-lg\"\n            type=\"submit\"\n            value=\"Envoyer\"\n          />\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default CheminCreation;\n"]},"metadata":{},"sourceType":"module"}