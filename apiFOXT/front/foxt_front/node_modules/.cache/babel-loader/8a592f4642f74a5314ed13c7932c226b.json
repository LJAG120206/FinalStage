{"ast":null,"code":"var _jsxFileName = \"/var/www/FOXT/apiFOXT/front/foxt_front/src/Components/Experts/ExpertCreation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport FieldInput from '../FieldInput/FieldInput';\nimport TexteArea from '../TextArea/TexteArea';\nimport Select from '../Select/Select';\nimport Axios from 'axios';\nimport './Formulaire.css';\nimport Logo from '../Images/logo.png';\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ExpertCreation = props => {\n  _s();\n\n  let {\n    iduser\n  } = useParams();\n  console.log(iduser);\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\",\n    roles: [\"EXPERT\"],\n    nom: \"\",\n    prenom: \"\"\n  });\n  const [expert, setExpert] = useState({\n    email: \"\",\n    password: \"\",\n    role: [\"EXPERT\"],\n    civilite: \"\",\n    nom: \"\",\n    prenom: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    codePostal: \"\",\n    ville: \"\",\n    status: \"\",\n    dateCreation: new Date(),\n    presentation: \"\",\n    user: \"\"\n  });\n  const [errors, setErrors] = useState({\n    email: \"\",\n    password: \"\",\n    civilite: \"\",\n    nom: \"Le nom est obligatoire \",\n    prenom: \"\",\n    telephone: \"\",\n    adresse: \"\",\n    codePostal: \"\",\n    ville: \"\",\n    status: \"\",\n    date_creation: \"\",\n    presentation: \"\"\n  });\n\n  const handleChange = _ref => {\n    let {\n      currentTarget\n    } = _ref;\n    const value = currentTarget.value;\n    const name = currentTarget.name;\n    setUser({ ...user,\n      [name]: value\n    });\n    setExpert({ ...expert,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    let idUser;\n    console.log(user);\n\n    try {\n      const response = await Axios.post(\"https://127.0.0.1:8000/api/users\", user).then(response => idUser = response.data.id);\n      console.log(idUser);\n      idUser++;\n      setExpert({ ...expert,\n        user: `https://127.0.0.1:8000/api/users/${idUser}`\n      });\n      console.log(expert);\n      Axios.post(\"https://127.0.0.1:8000/api/experts\", expert);\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  const handleSubmit2 = async () => {\n    try {\n      console.log(expert);\n      const response = await Axios.post(\"https://127.0.0.1:8000/api/experts\", expert).then(response => console.log(response.data.id));\n    } catch (error) {\n      console.log(error.response);\n    }\n  }; // // // try{\n  // // // //     const response = Axios.post(\"https://127.0.0.1:8000/api/experts\", expert)\n  // // // //     console.log(response)\n  // // // // } catch(error){\n  // // // //     console.log(error.response);\n  // // // }\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row headerContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"logo_foxt\",\n          className: \"fieldInput col-lg-8\",\n          src: Logo,\n          alt: \"mon image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title fieldInput col-lg-8\",\n          children: \"CREATION EXPERT FOXT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"formulaire\",\n        className: \"container-fluid form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              id: \"titre\",\n              className: \"select col-lg-4\",\n              name: \"civilite\",\n              label: \"Civilit\\xE9\",\n              type: \"select\",\n              options: [[\"M.\", \"Monsieur\"], [\"Mme\", \"Madame\"], [\"Melle\", \"Mademoiselle\"]],\n              value: expert.civilite,\n              onChange: handleChange,\n              error: errors.civilite\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              id: \"prenom\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Pr\\xE9nom\",\n              type: \"text\",\n              name: \"prenom\",\n              value: expert.prenom,\n              onChange: handleChange,\n              error: errors.prenom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              id: \"nom\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Nom\",\n              type: \"text\",\n              name: \"nom\",\n              value: expert.nom,\n              onChange: handleChange,\n              error: errors.nom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n              name: \"adresse\",\n              id: \"adresse\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Adresse\",\n              type: \"text\",\n              value: expert.adresse,\n              onChange: handleChange,\n              error: errors.adresse\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              name: \"codePostal\",\n              id: \"codePostal\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Code postal\",\n              type: \"text\",\n              value: expert.codePostal,\n              onChange: handleChange,\n              error: errors.codePostal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              name: \"ville\",\n              id: \"ville\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Localit\\xE9\",\n              type: \"text\",\n              value: expert.ville,\n              onChange: handleChange,\n              error: errors.ville\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(FieldInput, {\n              name: \"telephone\",\n              id: \"telephone\",\n              className: \"fieldInput col-lg-6\",\n              label: \"T\\xE9l\\xE9phone\",\n              type: \"text\",\n              value: expert.telephone,\n              onChange: handleChange,\n              error: errors.telephone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              name: \"email\",\n              id: \"email\",\n              className: \"fieldInput col-lg-6\",\n              label: \"Email\",\n              type: \"email\",\n              value: expert.email,\n              onChange: handleChange,\n              error: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              name: \"status\",\n              id: \"Status\",\n              className: \"select col-lg-4\",\n              label: \"Status\",\n              type: \"select\",\n              options: [[\"\", \"Actif\"], [\"\", \"Inactif\"]],\n              value: expert.status,\n              onChange: handleSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              name: \"password\",\n              id: \"password\",\n              className: \"fieldInput col-lg-6\",\n              label: \"Votre mot de passe\",\n              type: \"password\",\n              value: expert.password,\n              onChange: handleChange,\n              error: errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(TexteArea, {\n              name: \"presentation\",\n              id: \"pr\\xE9sentation\",\n              className: \"textArea\",\n              label: \"Pr\\xE9sentation\",\n              value: expert.presentation,\n              onChange: handleChange,\n              error: errors.presentation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          class: \"btn btn-secondary btn-lg\",\n          type: \"submit\",\n          value: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(ExpertCreation, \"3Ky2u+qwGwbv/VlCDk4AUvttd8w=\", false, function () {\n  return [useParams];\n});\n\n_c = ExpertCreation;\nexport default ExpertCreation;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExpertCreation\");","map":{"version":3,"sources":["/var/www/FOXT/apiFOXT/front/foxt_front/src/Components/Experts/ExpertCreation.js"],"names":["React","useState","useEffect","FieldInput","TexteArea","Select","Axios","Logo","useParams","ExpertCreation","props","iduser","console","log","user","setUser","email","password","roles","nom","prenom","expert","setExpert","role","civilite","telephone","adresse","codePostal","ville","status","dateCreation","Date","presentation","errors","setErrors","date_creation","handleChange","currentTarget","value","name","handleSubmit","event","preventDefault","idUser","response","post","then","data","id","error","handleSubmit2"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport FieldInput from '../FieldInput/FieldInput'\nimport TexteArea from '../TextArea/TexteArea';\nimport Select from '../Select/Select';\nimport Axios from 'axios';\nimport './Formulaire.css';\nimport Logo from '../Images/logo.png';\nimport {useParams} from \"react-router-dom\"\n\n\n\n\nconst ExpertCreation = (props) => {\nlet {iduser} = useParams();\n   console.log(iduser)\n   const [user, setUser] = useState({\n        email: \"\",\n        password: \"\",\n        roles:[\"EXPERT\"],\n        nom: \"\",\n        prenom: \"\",\n    });\n\n    const [expert, setExpert] = useState({\n        email: \"\",\n        password: \"\",\n        role:[\"EXPERT\"],\n        civilite: \"\",\n        nom: \"\",\n        prenom: \"\",\n        telephone:\"\",\n        adresse: \"\",\n        codePostal: \"\",\n        ville: \"\",\n        status: \"\",\n        dateCreation: new Date(),\n        presentation:\"\",\n        user:\"\"\n        \n    });\n\n    \n\n    const [errors, setErrors] = useState({\n        email: \"\",\n        password: \"\",\n        civilite: \"\",\n        nom: \"Le nom est obligatoire \",\n        prenom: \"\",\n        telephone:\"\",\n        adresse: \"\",\n        codePostal: \"\",\n        ville: \"\",\n        status: \"\",\n        date_creation:\"\",\n        presentation:\"\",\n    })\n\n    const handleChange = ({currentTarget})=>{\n        const value = currentTarget.value\n        const name = currentTarget.name\n\n        setUser({...user, [name]: value})\n        setExpert({...expert, [name]: value})\n    }\n\n    const handleSubmit = async (event)=>{\n        event.preventDefault();\n       let idUser;\n        console.log(user);\n        \n        try{\n            \n            const response = \n            await Axios\n                .post(\"https://127.0.0.1:8000/api/users\", user)\n                .then(response => idUser = response.data.id)\n                console.log(idUser)\n                idUser++\n                setExpert({...expert, user: `https://127.0.0.1:8000/api/users/${idUser}`})\n                console.log(expert)\n                Axios.post(\"https://127.0.0.1:8000/api/experts\", expert)\n            \n        } catch(error){\n            console.log(error.response);\n        }\n    }\n    \n    const handleSubmit2 = async ()=>{\n      try{\n           console.log(expert)\n            const response = await Axios.post(\"https://127.0.0.1:8000/api/experts\", expert)\n            .then(response => console.log(response.data.id))\n            \n        } catch(error){\n            console.log(error.response);\n        }\n    }\n\n        // // // try{\n            \n        // // // //     const response = Axios.post(\"https://127.0.0.1:8000/api/experts\", expert)\n        // // // //     console.log(response)\n        // // // // } catch(error){\n        // // // //     console.log(error.response);\n            \n        // // // }\n\n        \n    \n    return (\n        <>\n\t\t <div >\n            <div className='row headerContainer'>\n                <img id=\"logo_foxt\" className=\"fieldInput col-lg-8\" src={Logo} alt=\"mon image\"/>\n                <div className=\"title fieldInput col-lg-8\">CREATION EXPERT FOXT</div>\n            </div>\n            <form id=\"formulaire\" className=\"container-fluid form\" onSubmit={handleSubmit}>\n            <div>\n                <div className=\"row\">\n\t\t\t\t\t<Select id='titre'className=\"select col-lg-4\" name=\"civilite\" label='Civilité' type='select'\n                        options= {[[\"M.\",\"Monsieur\"], [\"Mme\",\"Madame\"], [\"Melle\",\"Mademoiselle\"],]} value={expert.civilite} onChange={handleChange} error={errors.civilite}/>\n                    <FieldInput id=\"prenom\" className=\"fieldInput col-lg-4\" label=\"Prénom\" type='text'name=\"prenom\"\n                         value={expert.prenom} onChange={handleChange} error={errors.prenom}/>\n                    <FieldInput id=\"nom\" className=\"fieldInput col-lg-4\" label='Nom'type='text'name=\"nom\"\n                         value={expert.nom} onChange={handleChange} error={errors.nom}/>\n\t\t\t\t</div>\n                <div className=\"row\">\n\t\t\t\t\t<FieldInput name=\"adresse\" id='adresse' className=\"fieldInput col-lg-4\" label='Adresse'type='text'value={expert.adresse} onChange={handleChange} error={errors.adresse}/>\n\t\t\t\t\t<FieldInput name=\"codePostal\" id='codePostal' className=\"fieldInput col-lg-4\" label='Code postal'type='text'value={expert.codePostal} onChange={handleChange} error={errors.codePostal}/>\n\t\t\t\t\t<FieldInput name=\"ville\" id='ville' className=\"fieldInput col-lg-4\" label='Localité'type='text'value={expert.ville} onChange={handleChange} error={errors.ville}/>\n                </div>\n                <div className=\"row\">\n                    <FieldInput name=\"telephone\" id='telephone' className=\"fieldInput col-lg-6\" label='Téléphone'type='text'value={expert.telephone} onChange={handleChange} error={errors.telephone}/>\n                    <FieldInput name=\"email\" id='email' className=\"fieldInput col-lg-6\" label='Email'type='email'value={expert.email} onChange={handleChange} error={errors.email}/>\n                </div>\n\t\t\t\t<div className=\"row\">\n                    <Select name=\"status\" id='Status'className=\"select col-lg-4\" label='Status' type='select'\n                        options= {[[\"\",\"Actif\"], [\"\",\"Inactif\"]]} value={expert.status} onChange={handleSubmit}/>\n\t\t\t\t\t<FieldInput name=\"password\" id='password' className=\"fieldInput col-lg-6\" label='Votre mot de passe'type='password'value={expert.password} onChange={handleChange} error={errors.password}/>\n\t\t\t\t</div>\n                <div>\n                    <TexteArea name=\"presentation\" id='présentation' className=\"textArea\"  label='Présentation' value={expert.presentation} onChange={handleChange} error={errors.presentation}/>\n                </div>\n\t\t\t</div>\n            <input class=\"btn btn-secondary btn-lg\" type=\"submit\" value=\"Envoyer\" />\n                         \n            </form>\n        </div>\n\t    </>\n    )\n}\n\n\nexport default ExpertCreation\n"]},"metadata":{},"sourceType":"module"}