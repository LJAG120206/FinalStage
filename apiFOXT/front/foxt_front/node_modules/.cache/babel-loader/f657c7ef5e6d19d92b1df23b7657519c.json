{"ast":null,"code":"var _jsxFileName = \"/var/www/FOXT/apiFOXT/front/foxt_front/src/Components/Chemins/Formulaires/CheminCreation.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport FieldInput from \"../../FieldInput/FieldInput\";\nimport Select from \"../../Select/Select\";\nimport Axios from \"axios\";\nimport \"./Formulaire.css\";\nimport NavCustomerSuccess from \"../../CustomersSuccess/NavCustomerSuccess\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CheminCreation = props => {\n  _s();\n\n  const [chemin, setChemin] = useState({\n    client: \"\",\n    titre: \"\",\n    status: \"actif\"\n  });\n  const [liste_clients, setListe_clients] = React.useState([]);\n  let clients;\n  React.useEffect(() => {\n    Axios.get(\"https://127.0.0.1:8000/api/clients\").then(response => response.data[\"hydra:member\"]).then(clients => {\n      console.log(clients);\n      let liste_cli = [];\n      clients.forEach(item => {\n        liste_cli.push([item.id, item.prenom + \" \" + item.nom]);\n      });\n      liste_cli.unshift([0, \"Selectionner client\"]);\n      setListe_clients(liste_cli);\n      console.log(liste_cli);\n    });\n  }, []);\n\n  const handleChange = _ref => {\n    let {\n      currentTarget\n    } = _ref;\n    const value = currentTarget.value;\n    const name = currentTarget.name;\n    setChemin({ ...chemin,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    console.log(chemin);\n    chemin.client = \"https://127.0.0.1:8000/api/clients/\" + chemin.client;\n\n    try {\n      const response = await Axios.post(\"https://127.0.0.1:8000/api/chemins\", chemin).then(response => {});\n    } catch (error) {\n      console.log(error.response);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavCustomerSuccess, {\n        id: localStorage.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row headerContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"fieldInput col-lg-8\",\n          children: \"NOUVEAU CHEMIN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"formulaire-creation\",\n        className: \"container-fluid form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(Select, {\n              name: \"status\",\n              id: \"Status\",\n              className: \"select col-lg-4\",\n              label: \"Status\",\n              type: \"select\",\n              options: [[\"actif\", \"Actif\"], [\"inactif\", \"Inactif\"]],\n              value: chemin.status,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              id: \"client\",\n              className: \"select col-lg-4\",\n              name: \"client\",\n              label: \"Client\",\n              type: \"select\",\n              selected: \"\",\n              options: liste_clients,\n              value: chemin.client,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FieldInput, {\n              id: \"titre\",\n              className: \"fieldInput col-lg-4\",\n              label: \"Titre\",\n              type: \"text\",\n              name: \"titre\",\n              value: chemin.titre,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn btn-secondary btn-lg\",\n          type: \"submit\",\n          value: \"Envoyer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CheminCreation, \"3csykZScFC2/DbgWc+QO24ykSt4=\");\n\n_c = CheminCreation;\nexport default CheminCreation;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheminCreation\");","map":{"version":3,"sources":["/var/www/FOXT/apiFOXT/front/foxt_front/src/Components/Chemins/Formulaires/CheminCreation.js"],"names":["React","useState","useEffect","FieldInput","Select","Axios","NavCustomerSuccess","CheminCreation","props","chemin","setChemin","client","titre","status","liste_clients","setListe_clients","clients","get","then","response","data","console","log","liste_cli","forEach","item","push","id","prenom","nom","unshift","handleChange","currentTarget","value","name","handleSubmit","event","preventDefault","post","error","localStorage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport FieldInput from \"../../FieldInput/FieldInput\";\nimport Select from \"../../Select/Select\";\nimport Axios from \"axios\";\nimport \"./Formulaire.css\";\nimport NavCustomerSuccess from \"../../CustomersSuccess/NavCustomerSuccess\";\n\nconst CheminCreation = (props) => {\n  \n  const [chemin, setChemin] = useState({\n   \n    client: \"\",\n    titre: \"\",\n    status: \"actif\",\n    \n  });\n  const [liste_clients, setListe_clients] = React.useState([]);\n\n  let clients;\n\nReact.useEffect(() =>\n    {\n    Axios\n        .get(\"https://127.0.0.1:8000/api/clients\")\n        .then(response => response.data[\"hydra:member\"])\n        .then(clients => \n          { \n            console.log(clients);             \n            let liste_cli=[];\n              clients.forEach((item) =>{\n                  liste_cli.push([item.id, item.prenom+\" \"+item.nom]);\n              })\n              liste_cli.unshift([0,\"Selectionner client\"])\n              setListe_clients(liste_cli);\n              console.log(liste_cli);\n          })\n\n\n    },[])\n  \n  const handleChange = ({ currentTarget }) => {\n    const value = currentTarget.value;\n    const name = currentTarget.name;\n\n    setChemin({ ...chemin, [name]: value });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    \n    console.log(chemin);\n    chemin.client = \"https://127.0.0.1:8000/api/clients/\"+chemin.client;\n    try {\n      const response = await Axios.post(\n        \"https://127.0.0.1:8000/api/chemins\",chemin)\n        .then((response) => {\n                    \n        });\n    } catch (error) {\n        console.log(error.response);}\n    };\n      \n  return (\n    <>\n      <div>\n      <NavCustomerSuccess id={localStorage.id} />\n        <div className=\"row headerContainer\">\n          \n          <h2 className=\"fieldInput col-lg-8\">NOUVEAU CHEMIN</h2>\n        </div>\n        <form\n          id=\"formulaire-creation\"\n          className=\"container-fluid form\"\n          onSubmit={handleSubmit}\n        >\n          <div>\n            <div className=\"row\">\n            <Select\n                name=\"status\"\n                id=\"Status\"\n                className=\"select col-lg-4\"\n                label=\"Status\"\n                type=\"select\"\n                options={[\n                  [\"actif\", \"Actif\"],\n                  [\"inactif\", \"Inactif\"],\n                ]}\n                value={chemin.status}\n                onChange={handleChange}\n              />\n              <Select\n                id=\"client\"\n                className=\"select col-lg-4\"\n                name=\"client\"\n                label=\"Client\"\n                type=\"select\"\n                selected=\"\"\n                options={liste_clients}\n                value={chemin.client}\n                onChange={handleChange}\n              />\n              <FieldInput\n                id=\"titre\"\n                className=\"fieldInput col-lg-4\"\n                label=\"Titre\"\n                type=\"text\"\n                name=\"titre\"\n                value={chemin.titre}\n                onChange={handleChange}\n              />\n              \n            </div>\n          </div>\n          <input\n            className=\"btn btn-secondary btn-lg\"\n            type=\"submit\"\n            value=\"Envoyer\"\n          />\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default CheminCreation;\n"]},"metadata":{},"sourceType":"module"}